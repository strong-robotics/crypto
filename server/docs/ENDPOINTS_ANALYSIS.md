# üìã –ê–ù–ê–õ–Ü–ó –í–°–Ü–• ENDPOINTS –í `main.py`

> **–î–∞—Ç–∞:** 2025-10-11  
> **–ú–µ—Ç–∞:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –≤—Å—ñ—Ö API endpoints —Ç–∞ —ó—Ö –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

---

## üîå WEBSOCKETS (3 —à—Ç)

### 1. WS `/ws/tokens` (—Ä—è–¥–æ–∫ 271)
- **–ú–æ–¥—É–ª—å:** `TokensReaderV2` –∑ `_v2_tokens_reader.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –í–°–Ü —Ç–æ–∫–µ–Ω–∏ –∑ –ë–î –∫–ª—ñ—î–Ω—Ç—É –ø—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ, –ø–æ—Ç—ñ–º —Å–ª—É—Ö–∞—î WebSocket
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** Frontend –æ—Ç—Ä–∏–º—É—î —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω—ñ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

### 2. WS `/ws/chart-data` (—Ä—è–¥–æ–∫ 334 + –¥—É–±–ª—ñ–∫–∞—Ç 1226) ‚ö†Ô∏è
- **–ú–æ–¥—É–ª—å:** `ChartDataReader` –∑ `_v2_chart_data_reader.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –í—ñ–¥–ø—Ä–∞–≤–ª—è—î chart_data (–≥—Ä–∞—Ñ—ñ–∫–∏ trades) –∫–ª—ñ—î–Ω—Ç—É –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** Frontend –æ—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
- **‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:** Endpoint –¥—É–±–ª—é—î—Ç—å—Å—è –¥–≤—ñ—á—ñ (—Ä—è–¥–∫–∏ 334 —Ç–∞ 1226)!

### 3. WS `/ws/balances` (—Ä—è–¥–æ–∫ 361)
- **–ú–æ–¥—É–ª—å:** `BalanceV1` –∑ `_v2_balance.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –±–∞–ª–∞–Ω—Å–∏ –≥–∞–º–∞–Ω—Ü—ñ–≤ –∫–ª—ñ—î–Ω—Ç—É
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** Frontend –ø–æ–∫–∞–∑—É—î –±–∞–ª–∞–Ω—Å–∏ SOL/USD

---

## üöÄ TOKEN SCANNER (3 —à—Ç)

### 4. POST `/api/auto-scan/start` (—Ä—è–¥–æ–∫ 419)
- **–ú–æ–¥—É–ª—å:** `JupiterScannerV2` –∑ `_v2_new_tokens.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó–∞–ø—É—Å–∫–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤ –∑ Jupiter API
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–æ—á–∞—Ç–æ–∫ –∑–±–æ—Ä—É –Ω–æ–≤–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤

### 5. POST `/api/auto-scan/stop` (—Ä—è–¥–æ–∫ 430)
- **–ú–æ–¥—É–ª—å:** `JupiterScannerV2`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó—É–ø–∏–Ω—è—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ó—É–ø–∏–Ω–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞

### 6. GET `/api/scanner/status` (—Ä—è–¥–æ–∫ 440)
- **–ú–æ–¥—É–ª—å:** `JupiterScannerV2`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ü–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∞—Ç—É—Å —Å–∫–∞–Ω–µ—Ä–∞ (–ø—Ä–∞—Ü—é—î/–∑—É–ø–∏–Ω–µ–Ω–∏–π, —Å–∫—ñ–ª—å–∫–∏ —Ç–æ–∫–µ–Ω—ñ–≤ –∑–Ω–∞–π–¥–µ–Ω–æ)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–∫–∞–Ω–µ—Ä–∞

---

## üìä TOKENS READER (3 —à—Ç)

### 7. GET `/api/tokens` (—Ä—è–¥–æ–∫ 451)
- **–ú–æ–¥—É–ª—å:** `TokensReaderV2` –∑ `_v2_tokens_reader.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û—Ç—Ä–∏–º—É—î —Ç–æ–∫–µ–Ω–∏ –∑ –ë–î (–∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é: limit, offset)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** REST API –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É —Ç–æ–∫–µ–Ω—ñ–≤

### 8. GET `/api/tokens/{token_address}` (—Ä—è–¥–æ–∫ 463)
- **–ú–æ–¥—É–ª—å:** `TokensReaderV2`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û—Ç—Ä–∏–º—É—î –æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–æ–∫–µ–Ω –∑–∞ –∞–¥—Ä–µ—Å–æ—é
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –î–µ—Ç–∞–ª—ñ –æ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

### 9. GET `/api/tokens/search/{query}` (—Ä—è–¥–æ–∫ 475)
- **–ú–æ–¥—É–ª—å:** `TokensReaderV2`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ü–æ—à—É–∫ —Ç–æ–∫–µ–Ω—ñ–≤ –∑–∞ –Ω–∞–∑–≤–æ—é –∞–±–æ —Å–∏–º–≤–æ–ª–æ–º
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–æ—à—É–∫ —Ç–æ–∫–µ–Ω—ñ–≤

---

## üí∞ BALANCE (2 —à—Ç)

### 10. POST `/api/balance/refresh` (—Ä—è–¥–æ–∫ 487)
- **–ú–æ–¥—É–ª—å:** `BalanceV1` –∑ `_v2_balance.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û–Ω–æ–≤–ª—é—î –¥–∞–Ω—ñ –±–∞–ª–∞–Ω—Å—É –≤—Ä—É—á–Ω—É
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü—Ä–∏–º—É—Å–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—ñ–≤

### 11. GET `/api/balance/status` (—Ä—è–¥–æ–∫ 525)
- **–ú–æ–¥—É–ª—å:** `BalanceV1`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û—Ç—Ä–∏–º—É—î —Å—Ç–∞—Ç—É—Å balance monitor (—Å–∫—ñ–ª—å–∫–∏ –≥–∞–º–∞–Ω—Ü—ñ–≤, —Å–∫—ñ–ª—å–∫–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É balance monitor

---

## üïê HISTORY SCANNER (3 —à—Ç)

### 12. POST `/api/history-scanner/start` (—Ä—è–¥–æ–∫ 499)
- **–ú–æ–¥—É–ª—å:** `history_scanner_loop()` —Ñ—É–Ω–∫—Ü—ñ—è –≤ `main.py` + `HeliusTradesReporter`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó–∞–ø—É—Å–∫–∞—î –ñ–ò–í–ò–ô —Å–∫–∞–Ω–µ—Ä —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö trades (–æ–±—Ä–æ–±–ª—è—î –ø–æ 10 —Ç–æ–∫–µ–Ω—ñ–≤ –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É —Ü–∏–∫–ª—ñ—á–Ω–æ)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ó–±—ñ—Ä –ñ–ò–í–ò–• trades –¥–ª—è –≤—Å—ñ—Ö —Ç–æ–∫–µ–Ω—ñ–≤ –≤ —Ñ–æ–Ω—ñ
- **‚ö†Ô∏è –ù–ï –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–±–æ—Ä—É —ñ—Å—Ç–æ—Ä—ñ—ó!**

### 13. POST `/api/history-scanner/stop` (—Ä—è–¥–æ–∫ 508)
- **–ú–æ–¥—É–ª—å:** `stop_history_scanner()` —Ñ—É–Ω–∫—Ü—ñ—è –≤ `main.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó—É–ø–∏–Ω—è—î history scanner loop
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ó—É–ø–∏–Ω–∫–∞ –∂–∏–≤–æ–≥–æ —Å–∫–∞–Ω–µ—Ä–∞

### 14. GET `/api/history-scanner/status` (—Ä—è–¥–æ–∫ 517)
- **–ú–æ–¥—É–ª—å:** `get_history_scanner_status()` —Ñ—É–Ω–∫—Ü—ñ—è –≤ `main.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –°—Ç–∞—Ç—É—Å history scanner (–ø—Ä–∞—Ü—é—î/–∑—É–ø–∏–Ω–µ–Ω–∏–π, –ø–æ—Ç–æ—á–Ω–∏–π offset)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–∫–∞–Ω–µ—Ä–∞

---

## üîç ANALYZER (8 —à—Ç)

### 15. POST `/api/analyzer/test-single` (—Ä—è–¥–æ–∫ 536)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()` –∑ `_v1_analyzer_async_v2.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞ –∑ –æ–¥–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º (–¥–æ–¥–∞—î –≤ —á–µ—Ä–≥—É, –∑–∞–ø—É—Å–∫–∞—î —Ü–∏–∫–ª)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è/–¥–µ–±–∞–≥

### 16. POST `/api/analyzer/test-detailed` (—Ä—è–¥–æ–∫ 579)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –î–µ—Ç–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ –ø–æ–≤–Ω–∏–º –≤–∏–≤–æ–¥–æ–º –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö (Jupiter, DexScreener, Solana RPC, Honeypot)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è/–¥–µ–±–∞–≥

### 17. GET `/api/analyzer/db-stats` (—Ä—è–¥–æ–∫ 723)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞ (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ –≤ —Ç–∞–±–ª–∏—Ü—è—Ö, —Å–∫—ñ–ª—å–∫–∏ —Ç–æ–∫–µ–Ω—ñ–≤ –ø–æ—Ç—Ä–µ–±—É—î –∞–Ω–∞–ª—ñ–∑—É)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É –ë–î

### 18. GET `/api/analyzer/token/{token_address}` (—Ä—è–¥–æ–∫ 786)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –¢–Ü–õ–¨–ö–ò –ß–ò–¢–ê–ù–ù–Ø –¥–∞–Ω–∏—Ö —Ç–æ–∫–µ–Ω–∞ –∑ –ë–î (–ë–ï–ó –∞–Ω–∞–ª—ñ–∑—É)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∞–Ω–∞–ª—ñ–∑—É

### 19. POST `/api/analyzer/check-honeypot` (—Ä—è–¥–æ–∫ 849)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()` ‚Üí `analyze_risk_quick()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –®–í–ò–î–ö–ê –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ honeypot (Jupiter Quote API + RPC fallback)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫—É–ø—ñ–≤–ª–µ—é —Ç–æ–∫–µ–Ω–∞

### 20. GET `/api/analyzer/check-honeypot/{token_address}` (—Ä—è–¥–æ–∫ 927)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()` ‚Üí `analyze_risk_quick()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –¢–µ —Å–∞–º–µ, —â–æ #19, –∞–ª–µ GET –º–µ—Ç–æ–¥ (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

### 21. POST `/api/analyzer/analyze-full` (—Ä—è–¥–æ–∫ 941)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()` ‚Üí `analyze_token_full()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ü–û–í–ù–ò–ô –∞–Ω–∞–ª—ñ–∑ —Ç–æ–∫–µ–Ω–∞ (Honeypot ‚Üí Jupiter ‚Üí DexScreener ‚Üí Solana RPC) –∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º –≤ –ë–î
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–æ–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

### 22. GET `/api/analyzer/analyze-full/{token_address}` (—Ä—è–¥–æ–∫ 1004)
- **–ú–æ–¥—É–ª—å:** `get_analyzer()` ‚Üí `analyze_token_full()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –¢–µ —Å–∞–º–µ, —â–æ #21, –∞–ª–µ GET –º–µ—Ç–æ–¥
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

---

## üìà DEXSCREENER (3 —à—Ç)

### 23. POST `/api/dexscreener/start` (—Ä—è–¥–æ–∫ 1018)
- **–ú–æ–¥—É–ª—å:** `get_dexscreener_analyzer()` –∑ `_v2_analyzer_dexscreener.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó–∞–ø—É—Å–∫–∞—î DexScreener —Å–∫–∞–Ω–µ—Ä (–æ–Ω–æ–≤–ª—é—î –¥–∞–Ω—ñ –∑ DexScreener –¥–ª—è —Ç–æ–∫–µ–Ω—ñ–≤)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–æ—á–∞—Ç–æ–∫ –∑–±–æ—Ä—É DexScreener –¥–∞–Ω–∏—Ö

### 24. POST `/api/dexscreener/stop` (—Ä—è–¥–æ–∫ 1027)
- **–ú–æ–¥—É–ª—å:** `get_dexscreener_analyzer()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó—É–ø–∏–Ω—è—î DexScreener —Å–∫–∞–Ω–µ—Ä
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ó—É–ø–∏–Ω–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞

### 25. GET `/api/dexscreener/status` (—Ä—è–¥–æ–∫ 1036)
- **–ú–æ–¥—É–ª—å:** `get_dexscreener_analyzer()`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –°—Ç–∞—Ç—É—Å DexScreener —Å–∫–∞–Ω–µ—Ä–∞
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É

---

## üíµ SOL PRICE (1 —à—Ç)

### 26. GET `/api/sol-price` (—Ä—è–¥–æ–∫ 1045)
- **–ú–æ–¥—É–ª—å:** `get_sol_price_monitor()` –∑ `_v2_sol_price.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û—Ç—Ä–∏–º—É—î –ø–æ—Ç–æ—á–Ω—É —Ü—ñ–Ω—É SOL
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–Ω–∏ SOL

---

## üìä TRADES - TRADE HISTORY (3 —à—Ç)

### 27. POST `/api/trades/get-for-token` (—Ä—è–¥–æ–∫ 1054) ‚ùå –í–ò–î–ê–õ–ò–¢–ò
- **–ú–æ–¥—É–ª—å:** `get_trades_for_token()` –∑ `_v2_live_trades.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û—Ç—Ä–∏–º—É—î trades –¥–ª—è token_pair (—Ç—ñ–ª—å–∫–∏ 50 —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π, –ë–ï–ó pagination)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** ‚ùå **–ó–ê–°–¢–ê–†–Ü–õ–ò–ô - –í–ò–î–ê–õ–ò–¢–ò!**
- **–ü—Ä–∏—á–∏–Ω–∞:** –î—É–±–ª—é—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª `/api/trades/get-history`, –∞–ª–µ –±–µ–∑ pagination

### 28. GET `/api/trades/get-history` (—Ä—è–¥–æ–∫ 1089) ‚úÖ –û–°–ù–û–í–ù–ò–ô
- **–ú–æ–¥—É–ª—å:** `TradesHistory` –∑ `_v2_trades_history.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:**
  - **–ó –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º** `?token_pair=XXX` ‚Üí –∑–±–∏—Ä–∞—î –í–°–Ü trades –¥–ª—è –û–î–ù–û–ì–û —Ç–æ–∫–µ–Ω–∞ (pagination, –¥–æ 50 –∑–∞–ø–∏—Ç—ñ–≤ = 5000 —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π)
  - **–ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞** ‚Üí –∑–±–∏—Ä–∞—î trades –¥–ª—è –í–°–Ü–• —Ç–æ–∫–µ–Ω—ñ–≤ (–±–∞—Ç—á—ñ –ø–æ 10, —Ç—ñ–ª—å–∫–∏ 50 —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –Ω–∞ —Ç–æ–∫–µ–Ω)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** ‚úÖ **–û–°–ù–û–í–ù–ò–ô ENDPOINT –î–õ–Ø TRADE HISTORY!**
- **–ü—Ä–∏–∫–ª–∞–¥:**
  ```bash
  # –î–ª—è –æ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ (–∑ pagination)
  GET /api/trades/get-history?token_pair=8En9ZeLoMwKaHJY68TjMGmqFmoBPSD1xZaQ1VS6dm2R5
  
  # –î–ª—è –≤—Å—ñ—Ö —Ç–æ–∫–µ–Ω—ñ–≤
  GET /api/trades/get-history
  ```

### 29. POST `/api/trades/get-by-token-address` (—Ä—è–¥–æ–∫ 1149) ‚ùå –í–ò–î–ê–õ–ò–¢–ò
- **–ú–æ–¥—É–ª—å:** `get_trades_for_token_by_address()` –∑ `_v2_live_trades.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û—Ç—Ä–∏–º—É—î trades –ø–æ token_address (—à—É–∫–∞—î token_pair –≤ –ë–î, –ø–æ—Ç—ñ–º –≤–∏–∫–ª–∏–∫–∞—î Helius)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** ‚ùå **–ó–ê–°–¢–ê–†–Ü–õ–ò–ô - –í–ò–î–ê–õ–ò–¢–ò!**
- **–ü—Ä–∏—á–∏–Ω–∞:** –î—É–±–ª—é—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª `/api/trades/get-history`

---

## üìà CHART DATA READER (3 —à—Ç)

### 30. GET `/api/chart-reader/status` (—Ä—è–¥–æ–∫ 1203)
- **–ú–æ–¥—É–ª—å:** `ChartDataReader` –∑ `_v2_chart_data_reader.py`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –°—Ç–∞—Ç—É—Å Chart Data Reader (–ø—Ä–∞—Ü—é—î/–∑—É–ø–∏–Ω–µ–Ω–∏–π)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É

### 31. POST `/api/chart-reader/start` (—Ä—è–¥–æ–∫ 1210)
- **–ú–æ–¥—É–ª—å:** `ChartDataReader`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó–∞–ø—É—Å–∫–∞—î auto-refresh —Ü–∏–∫–ª—É (–∫–æ–∂–Ω—É 1 —Å–µ–∫—É–Ω–¥—É –≥–µ–Ω–µ—Ä—É—î chart_data –∑ –ë–î —ñ broadcast —á–µ—Ä–µ–∑ WebSocket)
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–æ—á–∞—Ç–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫—ñ–≤

### 32. POST `/api/chart-reader/stop` (—Ä—è–¥–æ–∫ 1218)
- **–ú–æ–¥—É–ª—å:** `ChartDataReader`
- **–©–æ —Ä–æ–±–∏—Ç—å:** –ó—É–ø–∏–Ω—è—î auto-refresh
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ó—É–ø–∏–Ω–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫—ñ–≤

---

## ‚öôÔ∏è LIFECYCLE (2 —à—Ç)

### 33. @app.on_event("startup") (—Ä—è–¥–æ–∫ 390 + –¥—É–±–ª—ñ–∫–∞—Ç 1189) ‚ö†Ô∏è
- **–©–æ —Ä–æ–±–∏—Ç—å:** –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É (SOL price monitor, scanner, balance monitor, tokens reader, chart data reader)
- **‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:** –ü–æ–¥—ñ—è –¥—É–±–ª—é—î—Ç—å—Å—è –¥–≤—ñ—á—ñ! (—Ä—è–¥–∫–∏ 390 —Ç–∞ 1189)

### 34. @app.on_event("shutdown") (—Ä—è–¥–æ–∫ 401 + –¥—É–±–ª—ñ–∫–∞—Ç 1196) ‚ö†Ô∏è
- **–©–æ —Ä–æ–±–∏—Ç—å:** –û—á–∏—â–µ–Ω–Ω—è –ø—Ä–∏ –∑—É–ø–∏–Ω—Ü—ñ (cleanup scanner, balance monitor, history scanner)
- **‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:** –ü–æ–¥—ñ—è –¥—É–±–ª—é—î—Ç—å—Å—è –¥–≤—ñ—á—ñ! (—Ä—è–¥–∫–∏ 401 —Ç–∞ 1196)

---

## üö® –ö–†–ò–¢–ò–ß–ù–Ü –ü–†–û–ë–õ–ï–ú–ò

### 1. –î—É–±–ª—ñ–∫–∞—Ç–∏ endpoints (–í–ò–ü–†–ê–í–ò–¢–ò)
- ‚ùå `/ws/chart-data` - –¥–≤—ñ—á—ñ (—Ä—è–¥–∫–∏ 334 —Ç–∞ 1226)
- ‚ùå `@app.on_event("startup")` - –¥–≤—ñ—á—ñ (—Ä—è–¥–∫–∏ 390 —Ç–∞ 1189)
- ‚ùå `@app.on_event("shutdown")` - –¥–≤—ñ—á—ñ (—Ä—è–¥–∫–∏ 401 —Ç–∞ 1196)

### 2. –ó–∞—Å—Ç–∞—Ä—ñ–ª—ñ endpoints (–í–ò–î–ê–õ–ò–¢–ò)
- ‚ùå `POST /api/trades/get-for-token` (—Ä—è–¥–æ–∫ 1054)
- ‚ùå `POST /api/trades/get-by-token-address` (—Ä—è–¥–æ–∫ 1149)

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —ñ–º–ø–æ—Ä—Ç (–í–ò–ü–†–ê–í–ò–¢–ò)
```python
# –†—è–¥–æ–∫ 17 - –í–ò–î–ê–õ–ò–¢–ò fetch_trades_for_single_token
from _v2_trades_history import fetch_all_historical_trades, fetch_trades_for_single_token
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python
from _v2_trades_history import fetch_all_historical_trades
```

---

## üìä –ê–†–•–Ü–¢–ï–ö–¢–£–†–ê TRADE HISTORY

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         TRADE HISTORY SYSTEM                        ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  ‚úÖ Endpoint: GET /api/trades/get-history          ‚îÇ
‚îÇ              ?token_pair=XXX (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)         ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  –ú–æ–¥—É–ª—å: _v2_trades_history.py                     ‚îÇ
‚îÇ  –ö–ª–∞—Å: TradesHistory                               ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  –ú–µ—Ç–æ–¥–∏:                                           ‚îÇ
‚îÇ  1. fetch_all_trades_for_token_with_pagination()   ‚îÇ
‚îÇ     ‚Üí –î–ª—è –û–î–ù–û–ì–û —Ç–æ–∫–µ–Ω–∞ (max_requests=50)          ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  2. fetch_all_historical_trades()                  ‚îÇ
‚îÇ     ‚Üí –î–ª—è –í–°–Ü–• —Ç–æ–∫–µ–Ω—ñ–≤ (–±–∞—Ç—á—ñ –ø–æ 10)               ‚îÇ
‚îÇ                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         LIVE SCANNER (–Ω–µ Trade History!)            ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  Loop: history_scanner_loop() –≤ main.py            ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  –ú–æ–¥—É–ª—å: _v2_live_trades.py               ‚îÇ
‚îÇ  –ö–ª–∞—Å: HeliusTradesReporter                        ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  –ú–µ—Ç–æ–¥: get_trades() ‚Üí 50 —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π               ‚îÇ
‚îÇ  –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤            ‚îÇ
‚îÇ                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á –ü–û –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–á

### 1. –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ endpoints
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ `POST /api/trades/get-for-token`
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ `POST /api/trades/get-by-token-address`

### 2. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç `/ws/chart-data` (–∑–∞–ª–∏—à–∏—Ç–∏ –æ–¥–∏–Ω)
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç `@app.on_event("startup")` (–∑–∞–ª–∏—à–∏—Ç–∏ –æ–¥–∏–Ω)
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç `@app.on_event("shutdown")` (–∑–∞–ª–∏—à–∏—Ç–∏ –æ–¥–∏–Ω)

### 3. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ —ñ–º–ø–æ—Ä—Ç–∏
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ `fetch_trades_for_single_token` –∑ —ñ–º–ø–æ—Ä—Ç—É (—Ä—è–¥–æ–∫ 17)

### 4. –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ Trade History
- [ ] –í–∏–ø—Ä–∞–≤–∏—Ç–∏ `fetch_all_historical_trades()` —â–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ pagination
- [ ] –î–æ–¥–∞—Ç–∏ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π `max_requests` –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≤—ñ–∫—É —Ç–æ–∫–µ–Ω–∞
- [ ] –î–æ–¥–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (–∫–æ–ª–æ–Ω–∫–∞ `last_trades_fetch` –≤ –ë–î)
- [ ] –î–æ–¥–∞—Ç–∏ rate limiting (—Å–µ–º–∞—Ñ–æ—Ä –Ω–∞ 10 –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤)

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

**–í—Å—å–æ–≥–æ endpoints:** 34  
**WebSockets:** 3  
**REST API:** 31  
**–ü—Ä–æ–±–ª–µ–º–Ω–∏—Ö:** 5 (–¥—É–±–ª—ñ–∫–∞—Ç–∏ + –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ)  
**–î–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è:** 2  
**–î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** 4  

---

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 2025-10-11  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ
